{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///home/ayan/Programming/NextFasterPostgres/src/components/ui/product-card.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ProductLink = registerClientReference(\n    function() { throw new Error(\"Attempted to call ProductLink() from the server but ProductLink is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/product-card.tsx <module evaluation>\",\n    \"ProductLink\",\n);\nexport const getProductLinkImageProps = registerClientReference(\n    function() { throw new Error(\"Attempted to call getProductLinkImageProps() from the server but getProductLinkImageProps is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/product-card.tsx <module evaluation>\",\n    \"getProductLinkImageProps\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;;;AACvE;;AACO,MAAM,cAAc,IAAA,wQAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,oEACA;AAEG,MAAM,2BAA2B,IAAA,wQAAuB,EAC3D;IAAa,MAAM,IAAI,MAAM;AAAgQ,GAC7R,oEACA","ignoreList":[0]}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["file:///home/ayan/Programming/NextFasterPostgres/src/components/ui/product-card.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ProductLink = registerClientReference(\n    function() { throw new Error(\"Attempted to call ProductLink() from the server but ProductLink is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/product-card.tsx\",\n    \"ProductLink\",\n);\nexport const getProductLinkImageProps = registerClientReference(\n    function() { throw new Error(\"Attempted to call getProductLinkImageProps() from the server but getProductLinkImageProps is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/product-card.tsx\",\n    \"getProductLinkImageProps\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;;;AACvE;;AACO,MAAM,cAAc,IAAA,wQAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,gDACA;AAEG,MAAM,2BAA2B,IAAA,wQAAuB,EAC3D;IAAa,MAAM,IAAI,MAAM;AAAgQ,GAC7R,gDACA","ignoreList":[0]}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///home/ayan/Programming/NextFasterPostgres/src/app/%28category-sidebar%29/products/%5Bcategory%5D/%5Bsubcategory%5D/page.tsx"],"sourcesContent":["import { notFound } from \"next/navigation\";\nimport { ProductLink } from \"@/components/ui/product-card\";\nimport type { Metadata } from \"next\";\nimport {\n  getProductsForSubcategory,\n  getSubcategory,\n  getSubcategoryProductCount,\n} from \"@/lib/queries\";\n// import { db } from \"@/db\";\n\n// export async function generateStaticParams() {\n//   const results = await db.query.subcategories.findMany({\n//     with: {\n//       subcollection: {\n//         with: {\n//           category: true,\n//         },\n//       },\n//     },\n//   });\n//   return results.map((s) => ({\n//     category: s.subcollection.category.slug,\n//     subcategory: s.slug,\n//   }));\n// }\n\nexport async function generateMetadata(props: {\n  params: Promise<{ category: string; subcategory: string }>;\n}): Promise<Metadata> {\n  const { subcategory: subcategoryParam } = await props.params;\n  const urlDecodedCategory = decodeURIComponent(subcategoryParam);\n\n  const [subcategory, rows] = await Promise.all([\n    getSubcategory(urlDecodedCategory),\n    getSubcategoryProductCount(urlDecodedCategory),\n  ]);\n\n  if (!subcategory) {\n    return notFound();\n  }\n\n  const description = rows[0]?.count\n    ? `Choose from over ${rows[0]?.count - 1} products in ${subcategory.name}. In stock and ready to ship.`\n    : undefined;\n\n  return {\n    openGraph: { title: subcategory.name, description },\n  };\n}\n\nexport default async function Page(props: {\n  params: Promise<{\n    subcategory: string;\n    category: string;\n  }>;\n}) {\n  const { subcategory, category } = await props.params;\n  // const urlDecodedCategory = decodeURIComponent(category);\n  const urlDecodedSubcategory = decodeURIComponent(subcategory);\n  const [products, countRes] = await Promise.all([\n    getProductsForSubcategory(urlDecodedSubcategory),\n    getSubcategoryProductCount(urlDecodedSubcategory),\n  ]);\n\n  if (!products) {\n    return notFound();\n  }\n\n  const finalCount = countRes[0]?.count;\n  return (\n    <div className=\"container mx-auto p-4\">\n      {finalCount > 0 ? (\n        <h1 className=\"mb-2 border-b-2 text-sm font-bold\">\n          {finalCount} {finalCount === 1 ? \"Product\" : \"Products\"}\n        </h1>\n      ) : (\n        <p>No products for this subcategory</p>\n      )}\n      <div className=\"flex flex-row flex-wrap gap-2\">\n        {products.map((product) => (\n          <ProductLink\n            key={product.name}\n            loading=\"eager\"\n            category_slug={category}\n            subcategory_slug={subcategory}\n            product={product}\n            imageUrl={product.image_url}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAAA;AAAA;AACA;AAEA;;;;;;;;;AAuBO,eAAe,iBAAiB,KAEtC;IACC,MAAM,EAAE,aAAa,gBAAgB,EAAE,GAAG,MAAM,MAAM,MAAM;IAC5D,MAAM,qBAAqB,mBAAmB;IAE9C,MAAM,CAAC,aAAa,KAAK,GAAG,MAAM,QAAQ,GAAG,CAAC;QAC5C,IAAA,uIAAc,EAAC;QACf,IAAA,mJAA0B,EAAC;KAC5B;IAED,IAAI,CAAC,aAAa;QAChB,OAAO,IAAA,iMAAQ;IACjB;IAEA,MAAM,cAAc,IAAI,CAAC,EAAE,EAAE,QACzB,CAAC,iBAAiB,EAAE,IAAI,CAAC,EAAE,EAAE,QAAQ,EAAE,aAAa,EAAE,YAAY,IAAI,CAAC,6BAA6B,CAAC,GACrG;IAEJ,OAAO;QACL,WAAW;YAAE,OAAO,YAAY,IAAI;YAAE;QAAY;IACpD;AACF;AAEe,eAAe,KAAK,KAKlC;IACC,MAAM,EAAE,WAAW,EAAE,QAAQ,EAAE,GAAG,MAAM,MAAM,MAAM;IACpD,2DAA2D;IAC3D,MAAM,wBAAwB,mBAAmB;IACjD,MAAM,CAAC,UAAU,SAAS,GAAG,MAAM,QAAQ,GAAG,CAAC;QAC7C,IAAA,kJAAyB,EAAC;QAC1B,IAAA,mJAA0B,EAAC;KAC5B;IAED,IAAI,CAAC,UAAU;QACb,OAAO,IAAA,iMAAQ;IACjB;IAEA,MAAM,aAAa,QAAQ,CAAC,EAAE,EAAE;IAChC,qBACE,8OAAC;QAAI,WAAU;;YACZ,aAAa,kBACZ,8OAAC;gBAAG,WAAU;;oBACX;oBAAW;oBAAE,eAAe,IAAI,YAAY;;;;;;qCAG/C,8OAAC;0BAAE;;;;;;0BAEL,8OAAC;gBAAI,WAAU;0BACZ,SAAS,GAAG,CAAC,CAAC,wBACb,8OAAC,0JAAW;wBAEV,SAAQ;wBACR,eAAe;wBACf,kBAAkB;wBAClB,SAAS;wBACT,UAAU,QAAQ,SAAS;uBALtB,QAAQ,IAAI;;;;;;;;;;;;;;;;AAW7B"}}]
}