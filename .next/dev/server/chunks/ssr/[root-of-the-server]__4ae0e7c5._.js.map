{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///home/ayan/Programming/NextFasterPostgres/src/components/ui/product-card.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ProductLink = registerClientReference(\n    function() { throw new Error(\"Attempted to call ProductLink() from the server but ProductLink is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/product-card.tsx <module evaluation>\",\n    \"ProductLink\",\n);\nexport const getProductLinkImageProps = registerClientReference(\n    function() { throw new Error(\"Attempted to call getProductLinkImageProps() from the server but getProductLinkImageProps is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/product-card.tsx <module evaluation>\",\n    \"getProductLinkImageProps\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;;;AACvE;;AACO,MAAM,cAAc,IAAA,wQAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,oEACA;AAEG,MAAM,2BAA2B,IAAA,wQAAuB,EAC3D;IAAa,MAAM,IAAI,MAAM;AAAgQ,GAC7R,oEACA","ignoreList":[0]}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///home/ayan/Programming/NextFasterPostgres/src/components/ui/product-card.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ProductLink = registerClientReference(\n    function() { throw new Error(\"Attempted to call ProductLink() from the server but ProductLink is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/product-card.tsx\",\n    \"ProductLink\",\n);\nexport const getProductLinkImageProps = registerClientReference(\n    function() { throw new Error(\"Attempted to call getProductLinkImageProps() from the server but getProductLinkImageProps is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/product-card.tsx\",\n    \"getProductLinkImageProps\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;;;AACvE;;AACO,MAAM,cAAc,IAAA,wQAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,gDACA;AAEG,MAAM,2BAA2B,IAAA,wQAAuB,EAC3D;IAAa,MAAM,IAAI,MAAM;AAAgQ,GAC7R,gDACA","ignoreList":[0]}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///home/ayan/Programming/NextFasterPostgres/src/components/add-to-cart-form.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AddToCartForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call AddToCartForm() from the server but AddToCartForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/add-to-cart-form.tsx <module evaluation>\",\n    \"AddToCartForm\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,gBAAgB,IAAA,wQAAuB,EAChD;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,qEACA","ignoreList":[0]}},
    {"offset": {"line": 110, "column": 0}, "map": {"version":3,"sources":["file:///home/ayan/Programming/NextFasterPostgres/src/components/add-to-cart-form.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AddToCartForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call AddToCartForm() from the server but AddToCartForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/add-to-cart-form.tsx\",\n    \"AddToCartForm\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,gBAAgB,IAAA,wQAAuB,EAChD;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,iDACA","ignoreList":[0]}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 134, "column": 0}, "map": {"version":3,"sources":["file:///home/ayan/Programming/NextFasterPostgres/src/app/%28category-sidebar%29/products/%5Bcategory%5D/%5Bsubcategory%5D/%5Bproduct%5D/page.tsx"],"sourcesContent":["import { ProductLink } from \"@/components/ui/product-card\";\nimport Image from \"next/image\";\nimport { notFound } from \"next/navigation\";\nimport { AddToCartForm } from \"@/components/add-to-cart-form\";\nimport { Metadata } from \"next\";\n\nimport { getProductDetails, getProductsForSubcategory } from \"@/lib/queries\";\n// import { db } from \"@/db\";\n\n// export async function generateStaticParams() {\n//   const results = await db.query.products.findMany({\n//     with: {\n//       subcategory: {\n//         with: {\n//           subcollection: {\n//             with: {\n//               category: true,\n//             },\n//           },\n//         },\n//       },\n//     },\n//   });\n//   return results.map((s) => ({\n//     category: s.subcategory.subcollection.category.slug,\n//     subcategory: s.subcategory.slug,\n//     product: s.slug,\n//   }));\n// }\n\nexport async function generateMetadata(props: {\n  params: Promise<{ product: string; category: string; subcategory: string }>;\n}): Promise<Metadata> {\n  const { product: productParam } = await props.params;\n  const urlDecodedProduct = decodeURIComponent(productParam);\n\n  const product = await getProductDetails(urlDecodedProduct);\n\n  if (!product) {\n    return notFound();\n  }\n\n  return {\n    openGraph: { title: product.name, description: product.description },\n  };\n}\n\nexport default async function Page(props: {\n  params: Promise<{\n    product: string;\n    subcategory: string;\n    category: string;\n  }>;\n}) {\n  const { product, subcategory, category } = await props.params;\n  const urlDecodedProduct = decodeURIComponent(product);\n  const urlDecodedSubcategory = decodeURIComponent(subcategory);\n  const [productData, relatedUnshifted] = await Promise.all([\n    getProductDetails(urlDecodedProduct),\n    getProductsForSubcategory(urlDecodedSubcategory),\n  ]);\n\n  if (!productData) {\n    return notFound();\n  }\n  const currentProductIndex = relatedUnshifted.findIndex(\n    (p) => p.slug === productData.slug,\n  );\n  const related = [\n    ...relatedUnshifted.slice(currentProductIndex + 1),\n    ...relatedUnshifted.slice(0, currentProductIndex),\n  ];\n\n  return (\n    <div className=\"container p-4\">\n      <h1 className=\"border-t-2 pt-1 text-xl font-bold text-accent1\">\n        {productData.name}\n      </h1>\n      <div className=\"flex flex-col gap-2\">\n        <div className=\"flex flex-row gap-2\">\n          <Image\n            loading=\"eager\"\n            decoding=\"sync\"\n            src={productData.image_url ?? \"/placeholder.svg?height=64&width=64\"}\n            alt={`A small picture of ${productData.name}`}\n            height={256}\n            quality={80}\n            width={256}\n            className=\"h-56 w-56 flex-shrink-0 border-2 md:h-64 md:w-64\"\n          />\n          <p className=\"flex-grow text-base\">{productData.description}</p>\n        </div>\n        <p className=\"text-xl font-bold\">\n          ${parseFloat(productData.price).toFixed(2)}\n        </p>\n        <AddToCartForm productSlug={productData.slug} />\n      </div>\n      <div className=\"pt-8\">\n        {related.length > 0 && (\n          <h2 className=\"text-lg font-bold text-accent1\">\n            Explore more products\n          </h2>\n        )}\n        <div className=\"flex flex-row flex-wrap gap-2\">\n          {related?.map((product) => (\n            <ProductLink\n              key={product.name}\n              loading=\"lazy\"\n              category_slug={category}\n              subcategory_slug={subcategory}\n              product={product}\n              imageUrl={product.image_url}\n            />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAAA;AACA;AAGA;;;;;;;;;;;AAwBO,eAAe,iBAAiB,KAEtC;IACC,MAAM,EAAE,SAAS,YAAY,EAAE,GAAG,MAAM,MAAM,MAAM;IACpD,MAAM,oBAAoB,mBAAmB;IAE7C,MAAM,UAAU,MAAM,IAAA,0IAAiB,EAAC;IAExC,IAAI,CAAC,SAAS;QACZ,OAAO,IAAA,iMAAQ;IACjB;IAEA,OAAO;QACL,WAAW;YAAE,OAAO,QAAQ,IAAI;YAAE,aAAa,QAAQ,WAAW;QAAC;IACrE;AACF;AAEe,eAAe,KAAK,KAMlC;IACC,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE,QAAQ,EAAE,GAAG,MAAM,MAAM,MAAM;IAC7D,MAAM,oBAAoB,mBAAmB;IAC7C,MAAM,wBAAwB,mBAAmB;IACjD,MAAM,CAAC,aAAa,iBAAiB,GAAG,MAAM,QAAQ,GAAG,CAAC;QACxD,IAAA,0IAAiB,EAAC;QAClB,IAAA,kJAAyB,EAAC;KAC3B;IAED,IAAI,CAAC,aAAa;QAChB,OAAO,IAAA,iMAAQ;IACjB;IACA,MAAM,sBAAsB,iBAAiB,SAAS,CACpD,CAAC,IAAM,EAAE,IAAI,KAAK,YAAY,IAAI;IAEpC,MAAM,UAAU;WACX,iBAAiB,KAAK,CAAC,sBAAsB;WAC7C,iBAAiB,KAAK,CAAC,GAAG;KAC9B;IAED,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BACX,YAAY,IAAI;;;;;;0BAEnB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,wIAAK;gCACJ,SAAQ;gCACR,UAAS;gCACT,KAAK,YAAY,SAAS,IAAI;gCAC9B,KAAK,CAAC,mBAAmB,EAAE,YAAY,IAAI,EAAE;gCAC7C,QAAQ;gCACR,SAAS;gCACT,OAAO;gCACP,WAAU;;;;;;0CAEZ,8OAAC;gCAAE,WAAU;0CAAuB,YAAY,WAAW;;;;;;;;;;;;kCAE7D,8OAAC;wBAAE,WAAU;;4BAAoB;4BAC7B,WAAW,YAAY,KAAK,EAAE,OAAO,CAAC;;;;;;;kCAE1C,8OAAC,gKAAa;wBAAC,aAAa,YAAY,IAAI;;;;;;;;;;;;0BAE9C,8OAAC;gBAAI,WAAU;;oBACZ,QAAQ,MAAM,GAAG,mBAChB,8OAAC;wBAAG,WAAU;kCAAiC;;;;;;kCAIjD,8OAAC;wBAAI,WAAU;kCACZ,SAAS,IAAI,CAAC,wBACb,8OAAC,0JAAW;gCAEV,SAAQ;gCACR,eAAe;gCACf,kBAAkB;gCAClB,SAAS;gCACT,UAAU,QAAQ,SAAS;+BALtB,QAAQ,IAAI;;;;;;;;;;;;;;;;;;;;;;AAY/B"}}]
}