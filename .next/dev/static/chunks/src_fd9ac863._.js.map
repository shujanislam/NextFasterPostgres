{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/ayan/Programming/NextFasterPostgres/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///home/ayan/Programming/NextFasterPostgres/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\n// eslint-disable-next-line\nexport interface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full border border-gray-500 bg-transparent px-3 py-1 text-sm outline-none\",\n          className,\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  },\n);\nInput.displayName = \"Input\";\n\nexport { Input };\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAMA,MAAM,sBAAQ,2KAAgB,MAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,IAAA,4HAAE,EACX,wFACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file:///home/ayan/Programming/NextFasterPostgres/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n));\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName;\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className,\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n));\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName;\n\nexport { ScrollArea, ScrollBar };\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,2BAAa,2KAAgB,MAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,qLAAwB;QACvB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;;0BAET,6LAAC,yLAA4B;gBAAC,WAAU;0BACrC;;;;;;0BAEH,6LAAC;;;;;0BACD,6LAAC,uLAA0B;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,qLAAwB,CAAC,WAAW;AAE7D,MAAM,0BAAY,2KAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,cAAc,UAAU,EAAE,GAAG,OAAO,EAAE,oBACpD,6LAAC,oMAAuC;QACtC,KAAK;QACL,aAAa;QACb,WAAW,IAAA,4HAAE,EACX,iDACA,gBAAgB,cACd,sDACF,gBAAgB,gBACd,wDACF;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,gMAAmC;YAAC,WAAU;;;;;;;;;;;MAjB7C;AAoBN,UAAU,WAAW,GAAG,oMAAuC,CAAC,WAAW"}},
    {"offset": {"line": 134, "column": 0}, "map": {"version":3,"sources":["file:///home/ayan/Programming/NextFasterPostgres/src/components/ui/link.tsx"],"sourcesContent":["\"use client\";\n\nimport NextLink from \"next/link\";\nimport { useRouter } from \"next/navigation\";\nimport { useEffect, useRef } from \"react\";\n\ntype PrefetchImage = {\n  srcset: string;\n  sizes: string;\n  src: string;\n  alt: string;\n  loading: string;\n};\n\nfunction sleep(ms: number) {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}\n\nasync function prefetchImages(href: string) {\n  if (!href.startsWith(\"/\") || href.startsWith(\"/order\") || href === \"/\") {\n    return [];\n  }\n  const url = new URL(href, window.location.href);\n  const imageResponse = await fetch(`/api/prefetch-images${url.pathname}`, {\n    priority: \"low\",\n  });\n  // only throw in dev\n  if (!imageResponse.ok && process.env.NODE_ENV === \"development\") {\n    throw new Error(\"Failed to prefetch images\");\n  }\n  const { images } = await imageResponse.json();\n  return images as PrefetchImage[];\n}\n\nconst seen = new Set<string>();\nconst imageCache = new Map<string, PrefetchImage[]>();\n\nexport const Link: typeof NextLink = (({ children, ...props }) => {\n  const linkRef = useRef<HTMLAnchorElement>(null);\n  const router = useRouter();\n  let prefetchTimeout: NodeJS.Timeout | null = null;\n\n  useEffect(() => {\n    if (props.prefetch === false) return;\n\n    const linkElement = linkRef.current;\n    if (!linkElement) return;\n\n    const observer = new IntersectionObserver(\n      (entries) => {\n        const entry = entries[0];\n        if (entry.isIntersecting) {\n          prefetchTimeout = setTimeout(async () => {\n            router.prefetch(String(props.href));\n            await sleep(0);\n\n            if (!imageCache.has(String(props.href))) {\n              void prefetchImages(String(props.href)).then((images) => {\n                imageCache.set(String(props.href), images);\n              }, console.error);\n            }\n\n            observer.unobserve(entry.target);\n          }, 300);\n        } else if (prefetchTimeout) {\n          clearTimeout(prefetchTimeout);\n          prefetchTimeout = null;\n        }\n      },\n      { rootMargin: \"0px\", threshold: 0.1 },\n    );\n\n    observer.observe(linkElement);\n\n    return () => {\n      observer.disconnect();\n      if (prefetchTimeout) {\n        clearTimeout(prefetchTimeout);\n      }\n    };\n  }, [props.href, props.prefetch]);\n\n  return (\n    <NextLink\n      ref={linkRef}\n      prefetch={false}\n      onMouseEnter={() => {\n        router.prefetch(String(props.href));\n        const images = imageCache.get(String(props.href)) || [];\n        for (const image of images) {\n          prefetchImage(image);\n        }\n      }}\n      onMouseDown={(e) => {\n        const url = new URL(String(props.href), window.location.href);\n        if (\n          url.origin === window.location.origin &&\n          e.button === 0 &&\n          !e.altKey &&\n          !e.ctrlKey &&\n          !e.metaKey &&\n          !e.shiftKey\n        ) {\n          e.preventDefault();\n          router.push(String(props.href));\n        }\n      }}\n      {...props}\n    >\n      {children}\n    </NextLink>\n  );\n}) as typeof NextLink;\n\nfunction prefetchImage(image: PrefetchImage) {\n  if (image.loading === \"lazy\" || seen.has(image.srcset)) {\n    return;\n  }\n  const img = new Image();\n  img.decoding = \"async\";\n  img.fetchPriority = \"low\";\n  img.sizes = image.sizes;\n  seen.add(image.srcset);\n  img.srcset = image.srcset;\n  img.src = image.src;\n  img.alt = image.alt;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 259, "column": 0}, "map": {"version":3,"sources":["file:///home/ayan/Programming/NextFasterPostgres/src/components/search-dropdown.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState, useRef } from \"react\";\nimport { Input } from \"@/components/ui/input\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { X } from \"lucide-react\";\nimport Image from \"next/image\";\nimport { cn } from \"@/lib/utils\";\nimport { Product } from \"../db/schema\";\nimport { Link } from \"@/components/ui/link\";\nimport { useParams, useRouter } from \"next/navigation\";\nimport { ProductSearchResult } from \"@/app/api/search/route\";\n\ntype SearchResult = Product & { href: string };\n\nexport function SearchDropdownComponent() {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [filteredItems, setFilteredItems] = useState<SearchResult[]>([]);\n  const [isOpen, setIsOpen] = useState(false);\n  const [highlightedIndex, setHighlightedIndex] = useState(-1);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const router = useRouter();\n  const inputRef = useRef<HTMLInputElement>(null);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  // we don't need react query, we have react query at home\n  // react query at home:\n  useEffect(() => {\n    if (searchTerm.length === 0) {\n      setFilteredItems([]);\n    } else {\n      setIsLoading(true);\n\n      const searchedFor = searchTerm;\n      fetch(`/api/search?q=${searchTerm}`).then(async (results) => {\n        const currentSearchTerm = inputRef.current?.value;\n        if (currentSearchTerm !== searchedFor) {\n          return;\n        }\n        const json = await results.json();\n        setIsLoading(false);\n        setFilteredItems(json as ProductSearchResult);\n      });\n    }\n  }, [searchTerm, inputRef]);\n\n  const params = useParams();\n  useEffect(() => {\n    if (!params.product) {\n      const subcategory = params.subcategory;\n      setSearchTerm(\n        typeof subcategory === \"string\" ? subcategory.replaceAll(\"-\", \" \") : \"\",\n      );\n    }\n  }, [params]);\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === \"ArrowDown\") {\n      setHighlightedIndex((prevIndex) =>\n        prevIndex < filteredItems.length - 1 ? prevIndex + 1 : 0,\n      );\n    } else if (e.key === \"ArrowUp\") {\n      setHighlightedIndex((prevIndex) =>\n        prevIndex > 0 ? prevIndex - 1 : filteredItems.length - 1,\n      );\n    } else if (e.key === \"Enter\" && highlightedIndex >= 0) {\n      router.push(filteredItems[highlightedIndex].href);\n      setSearchTerm(filteredItems[highlightedIndex].name);\n      setIsOpen(false);\n      inputRef.current?.blur();\n    }\n  };\n\n  // close dropdown when clicking outside dropdown\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (\n        dropdownRef.current &&\n        !dropdownRef.current.contains(event.target as Node)\n      ) {\n        setIsOpen(false);\n        inputRef.current?.blur();\n      }\n    };\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [dropdownRef]);\n\n  return (\n    <div className=\"font-sans\" ref={dropdownRef}>\n      <div className=\"relative flex-grow\">\n        <div className=\"relative\">\n          <Input\n            ref={inputRef}\n            autoCapitalize=\"off\"\n            autoCorrect=\"off\"\n            type=\"text\"\n            placeholder=\"Search...\"\n            value={searchTerm}\n            onChange={(e) => {\n              setSearchTerm(e.target.value);\n              setIsOpen(e.target.value.length > 0);\n              setHighlightedIndex(-1);\n            }}\n            onKeyDown={handleKeyDown}\n            className=\"pr-12 font-sans font-medium sm:w-[300px] md:w-[375px]\"\n          />\n          <X\n            className={cn(\n              \"absolute right-7 top-2 h-5 w-5 text-muted-foreground\",\n              {\n                hidden: !isOpen,\n              },\n            )}\n            onClick={() => {\n              setSearchTerm(\"\");\n              setIsOpen(false);\n            }}\n          />\n        </div>\n        {isOpen && (\n          <div className=\"absolute z-10 w-full border border-gray-200 bg-white shadow-lg\">\n            <ScrollArea className=\"h-[300px]\">\n              {filteredItems.length > 0 ? (\n                filteredItems.map((item, index) => (\n                  <Link href={item.href} key={item.slug} prefetch={true}>\n                    <div\n                      className={cn(\"flex cursor-pointer items-center p-2\", {\n                        \"bg-gray-100\": index === highlightedIndex,\n                      })}\n                      onMouseEnter={() => setHighlightedIndex(index)}\n                      onClick={() => {\n                        setSearchTerm(item.name);\n                        setIsOpen(false);\n                        inputRef.current?.blur();\n                      }}\n                    >\n                      <Image\n                        loading=\"eager\"\n                        decoding=\"sync\"\n                        src={item.image_url ?? \"/placeholder.svg\"}\n                        alt=\"\"\n                        className=\"h-10 w-10 pr-2\"\n                        height={40}\n                        width={40}\n                        quality={65}\n                      />\n                      <span className=\"text-sm\">{item.name}</span>\n                    </div>\n                  </Link>\n                ))\n              ) : isLoading ? (\n                <div className=\"flex h-full items-center justify-center\">\n                  <p className=\"text-sm text-gray-500\">Loading...</p>\n                </div>\n              ) : (\n                <div className=\"flex h-full items-center justify-center\">\n                  <p className=\"text-sm text-gray-500\">No results found</p>\n                </div>\n              )}\n            </ScrollArea>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":["c","_c","useEffect","useState","useRef","Input","ScrollArea","X","Image","cn","Product","Link","useParams","useRouter","ProductSearchResult","SearchResult","href","SearchDropdownComponent","$","$i","Symbol","for","searchTerm","setSearchTerm","t0","filteredItems","setFilteredItems","isOpen","setIsOpen","highlightedIndex","setHighlightedIndex","isLoading","setIsLoading","router","inputRef","dropdownRef","t1","t2","length","searchedFor","fetch","then","results","currentSearchTerm","current","value","json","params","t3","product","subcategory","replaceAll","t4","t5","e","key","prevIndex","prevIndex_0","push","name","blur","handleKeyDown","t6","t7","handleClickOutside","event","contains","target","Node","document","addEventListener","removeEventListener","t8","e_0","t9","t10","t11","hidden","t12","t13","t14","t15","map","item","index","slug","image_url","t16"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 651, "column": 0}, "map": {"version":3,"sources":["file:///home/ayan/Programming/NextFasterPostgres/src/components/ui/popover.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Popover = PopoverPrimitive.Root;\n\nconst PopoverTrigger = PopoverPrimitive.Trigger;\n\nconst PopoverAnchor = PopoverPrimitive.Anchor;\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none duration-75 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className,\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n));\nPopoverContent.displayName = PopoverPrimitive.Content.displayName;\n\nexport { Popover, PopoverTrigger, PopoverContent, PopoverAnchor };\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,UAAU,8KAAqB;AAErC,MAAM,iBAAiB,iLAAwB;AAE/C,MAAM,gBAAgB,gLAAuB;AAE7C,MAAM,+BAAiB,2KAAgB,MAGrC,CAAC,EAAE,SAAS,EAAE,QAAQ,QAAQ,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC5D,6LAAC,gLAAuB;kBACtB,cAAA,6LAAC,iLAAwB;YACvB,KAAK;YACL,OAAO;YACP,YAAY;YACZ,WAAW,IAAA,4HAAE,EACX,0bACA;YAED,GAAG,KAAK;;;;;;;;;;;;AAIf,eAAe,WAAW,GAAG,iLAAwB,CAAC,WAAW"}},
    {"offset": {"line": 703, "column": 0}, "map": {"version":3,"sources":["file:///home/ayan/Programming/NextFasterPostgres/src/app/%28login%29/actions.ts"],"sourcesContent":["\"use server\";\n\nimport { z } from \"zod\";\nimport { eq } from \"drizzle-orm\";\nimport { cookies, headers } from \"next/headers\";\nimport { validatedAction } from \"@/lib/middleware\";\nimport pool from \"../../db/index.ts\";\n// import { NewUser, users } from \"@/db/schema\";\nimport { comparePasswords, hashPassword, setSession } from \"@/lib/session\";\nimport { authRateLimit, signUpRateLimit } from \"@/lib/rate-limit\";\n\nconst authSchema = z.object({\n  username: z.string().min(1),\n  password: z.string().min(1),\n});\n\nexport const signUp = validatedAction(authSchema, async (data) => {\n  const { username, password } = data;\n  const ip = (await headers()).get(\"x-real-ip\") ?? \"local\";\n  const rl2 = await signUpRateLimit.limit(ip);\n  if (!rl2.success) {\n    return {\n      error: {\n        code: \"AUTH_ERROR\",\n        message: \"Too many signups. Try again later\",\n      },\n    };\n  }\n\n  const existingUser = await pool.query('SELECT * FROM users WHERE username = $1', [username]);\n\n  if (existingUser.rows.length > 0) {\n    return { error: \"Username already taken. Please try again.\" };\n  }\n\n  const passwordHash = await hashPassword(password);\n\n  const newUser: NewUser = {\n    username,\n    passwordHash,\n  };\n\n  const createdUser = await pool.query('INSERT INTO users(username, password_hash) VALUES($1, $2) RETURNING *', [username, passwordHash]);\n\n  if (!createdUser) {\n    return { error: \"Failed to create user. Please try again.\" };\n  }\n  await setSession(createdUser.rows[0]);\n});\n\nexport const signIn = validatedAction(authSchema, async (data) => {\n  const { username, password } = data;\n  const ip = (await headers()).get(\"x-real-ip\") ?? \"local\";\n  const rl = await authRateLimit.limit(ip);\n\n  if (!rl.success) {\n    return {\n      error: {\n        code: \"AUTH_ERROR\",\n        message: \"Too many attempts. Try again later\",\n      },\n    };\n  }\n  \n  const user = await pool.query('SELECT * FROM users WHERE username = $1', [username]);\n\n  if (user.rows.length === 0) {\n    return { error: \"Invalid username or password. Please try again.\" };\n  }\n\n  console.log(user.rows[0]);\n\n  const foundUser = user.rows[0];\n\n  const isPasswordValid = await comparePasswords(\n    password,\n    foundUser.password_hash,\n  );\n\n  if (!isPasswordValid) {\n    return { error: \"Invalid username or password. Please try again.\" };\n  }\n  await setSession(foundUser);\n});\n\nexport async function signOut() {\n  // clear session & cart\n  const c = await cookies();\n  c.getAll().forEach((cookie) => c.delete(cookie.name));\n}\n"],"names":[],"mappings":";;;;;;;IAkDa,SAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}},
    {"offset": {"line": 718, "column": 0}, "map": {"version":3,"sources":["file:///home/ayan/Programming/NextFasterPostgres/src/app/%28login%29/actions.ts"],"sourcesContent":["\"use server\";\n\nimport { z } from \"zod\";\nimport { eq } from \"drizzle-orm\";\nimport { cookies, headers } from \"next/headers\";\nimport { validatedAction } from \"@/lib/middleware\";\nimport pool from \"../../db/index.ts\";\n// import { NewUser, users } from \"@/db/schema\";\nimport { comparePasswords, hashPassword, setSession } from \"@/lib/session\";\nimport { authRateLimit, signUpRateLimit } from \"@/lib/rate-limit\";\n\nconst authSchema = z.object({\n  username: z.string().min(1),\n  password: z.string().min(1),\n});\n\nexport const signUp = validatedAction(authSchema, async (data) => {\n  const { username, password } = data;\n  const ip = (await headers()).get(\"x-real-ip\") ?? \"local\";\n  const rl2 = await signUpRateLimit.limit(ip);\n  if (!rl2.success) {\n    return {\n      error: {\n        code: \"AUTH_ERROR\",\n        message: \"Too many signups. Try again later\",\n      },\n    };\n  }\n\n  const existingUser = await pool.query('SELECT * FROM users WHERE username = $1', [username]);\n\n  if (existingUser.rows.length > 0) {\n    return { error: \"Username already taken. Please try again.\" };\n  }\n\n  const passwordHash = await hashPassword(password);\n\n  const newUser: NewUser = {\n    username,\n    passwordHash,\n  };\n\n  const createdUser = await pool.query('INSERT INTO users(username, password_hash) VALUES($1, $2) RETURNING *', [username, passwordHash]);\n\n  if (!createdUser) {\n    return { error: \"Failed to create user. Please try again.\" };\n  }\n  await setSession(createdUser.rows[0]);\n});\n\nexport const signIn = validatedAction(authSchema, async (data) => {\n  const { username, password } = data;\n  const ip = (await headers()).get(\"x-real-ip\") ?? \"local\";\n  const rl = await authRateLimit.limit(ip);\n\n  if (!rl.success) {\n    return {\n      error: {\n        code: \"AUTH_ERROR\",\n        message: \"Too many attempts. Try again later\",\n      },\n    };\n  }\n  \n  const user = await pool.query('SELECT * FROM users WHERE username = $1', [username]);\n\n  if (user.rows.length === 0) {\n    return { error: \"Invalid username or password. Please try again.\" };\n  }\n\n  console.log(user.rows[0]);\n\n  const foundUser = user.rows[0];\n\n  const isPasswordValid = await comparePasswords(\n    password,\n    foundUser.password_hash,\n  );\n\n  if (!isPasswordValid) {\n    return { error: \"Invalid username or password. Please try again.\" };\n  }\n  await setSession(foundUser);\n});\n\nexport async function signOut() {\n  // clear session & cart\n  const c = await cookies();\n  c.getAll().forEach((cookie) => c.delete(cookie.name));\n}\n"],"names":[],"mappings":";;;;;;;IAgBa,SAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}},
    {"offset": {"line": 733, "column": 0}, "map": {"version":3,"sources":["file:///home/ayan/Programming/NextFasterPostgres/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2\",\n        sm: \"h-8 rounded-md px-3 text-xs\",\n        lg: \"h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    );\n  },\n);\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,2KAAgB,MAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,IAAA,4HAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 800, "column": 0}, "map": {"version":3,"sources":["file:///home/ayan/Programming/NextFasterPostgres/src/app/%28login%29/actions.ts"],"sourcesContent":["\"use server\";\n\nimport { z } from \"zod\";\nimport { eq } from \"drizzle-orm\";\nimport { cookies, headers } from \"next/headers\";\nimport { validatedAction } from \"@/lib/middleware\";\nimport pool from \"../../db/index.ts\";\n// import { NewUser, users } from \"@/db/schema\";\nimport { comparePasswords, hashPassword, setSession } from \"@/lib/session\";\nimport { authRateLimit, signUpRateLimit } from \"@/lib/rate-limit\";\n\nconst authSchema = z.object({\n  username: z.string().min(1),\n  password: z.string().min(1),\n});\n\nexport const signUp = validatedAction(authSchema, async (data) => {\n  const { username, password } = data;\n  const ip = (await headers()).get(\"x-real-ip\") ?? \"local\";\n  const rl2 = await signUpRateLimit.limit(ip);\n  if (!rl2.success) {\n    return {\n      error: {\n        code: \"AUTH_ERROR\",\n        message: \"Too many signups. Try again later\",\n      },\n    };\n  }\n\n  const existingUser = await pool.query('SELECT * FROM users WHERE username = $1', [username]);\n\n  if (existingUser.rows.length > 0) {\n    return { error: \"Username already taken. Please try again.\" };\n  }\n\n  const passwordHash = await hashPassword(password);\n\n  const newUser: NewUser = {\n    username,\n    passwordHash,\n  };\n\n  const createdUser = await pool.query('INSERT INTO users(username, password_hash) VALUES($1, $2) RETURNING *', [username, passwordHash]);\n\n  if (!createdUser) {\n    return { error: \"Failed to create user. Please try again.\" };\n  }\n  await setSession(createdUser.rows[0]);\n});\n\nexport const signIn = validatedAction(authSchema, async (data) => {\n  const { username, password } = data;\n  const ip = (await headers()).get(\"x-real-ip\") ?? \"local\";\n  const rl = await authRateLimit.limit(ip);\n\n  if (!rl.success) {\n    return {\n      error: {\n        code: \"AUTH_ERROR\",\n        message: \"Too many attempts. Try again later\",\n      },\n    };\n  }\n  \n  const user = await pool.query('SELECT * FROM users WHERE username = $1', [username]);\n\n  if (user.rows.length === 0) {\n    return { error: \"Invalid username or password. Please try again.\" };\n  }\n\n  console.log(user.rows[0]);\n\n  const foundUser = user.rows[0];\n\n  const isPasswordValid = await comparePasswords(\n    password,\n    foundUser.password_hash,\n  );\n\n  if (!isPasswordValid) {\n    return { error: \"Invalid username or password. Please try again.\" };\n  }\n  await setSession(foundUser);\n});\n\nexport async function signOut() {\n  // clear session & cart\n  const c = await cookies();\n  c.getAll().forEach((cookie) => c.delete(cookie.name));\n}\n"],"names":[],"mappings":";;;;;;;IAqFsB,UAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}},
    {"offset": {"line": 815, "column": 0}, "map": {"version":3,"sources":["file:///home/ayan/Programming/NextFasterPostgres/src/app/auth.client.tsx"],"sourcesContent":["\"use client\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\";\nimport { ActionState } from \"@/lib/middleware\";\nimport { signIn, signUp } from \"./(login)/actions\";\nimport { useActionState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\n\nexport function LoginForm() {\n  const [signInState, signInFormAction, signInPending] = useActionState<\n    ActionState,\n    FormData\n  >(signIn, { error: \"\" });\n  const [signUpState, signUpFormAction, signUpPending] = useActionState<\n    ActionState,\n    FormData\n  >(signUp, { error: \"\" });\n  const pending = signInPending || signUpPending;\n  const state = signInState.error ? signInState : signUpState;\n\n  return (\n    <form className=\"flex flex-col space-y-6\">\n      <div className=\"flex flex-col gap-4\">\n        <div className=\"mt-1\">\n          <Input\n            id=\"username\"\n            name=\"username\"\n            aria-label=\"Username\"\n            type=\"text\"\n            autoCapitalize=\"off\"\n            autoComplete=\"username\"\n            spellCheck={false}\n            required\n            maxLength={50}\n            className=\"relative block w-full appearance-none rounded-[1px] border px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-orange-500 focus:outline-none focus:ring-orange-500 sm:text-sm\"\n            placeholder=\"Username\"\n          />\n        </div>\n\n        <div>\n          <div className=\"mt-1\">\n            <Input\n              id=\"password\"\n              name=\"password\"\n              aria-label=\"Password\"\n              type=\"password\"\n              required\n              maxLength={100}\n              className=\"relative block w-full appearance-none rounded-[1px] border px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-orange-500 focus:outline-none focus:ring-orange-500 sm:text-sm\"\n              placeholder=\"Password\"\n            />\n          </div>\n        </div>\n\n        <Button\n          type=\"submit\"\n          className=\"rounded-[1px] bg-accent1 px-4 py-2 text-xs font-semibold text-white shadow-sm hover:bg-accent1 focus:outline-none focus:ring-2 focus:ring-accent1 focus:ring-offset-2\"\n          disabled={pending}\n          formAction={signInFormAction}\n        >\n          {\"Log in\"}\n        </Button>\n\n        <Button\n          type=\"submit\"\n          variant={\"ghost\"}\n          className=\"rounded-[2px] border-[1px] border-accent1 bg-white px-4 py-2 text-xs font-semibold text-accent1\"\n          disabled={pending}\n          formAction={signUpFormAction}\n        >\n          {\"Create login\"}\n        </Button>\n      </div>\n      {state?.error && (\n        <div className=\"text-sm text-red-500\">{state.error}</div>\n      )}\n    </form>\n  );\n}\n\nexport function SignInSignUp() {\n  return (\n    <Popover>\n      <PopoverTrigger className=\"flex flex-row items-center gap-1\">\n        Log in{\" \"}\n        <svg viewBox=\"0 0 10 6\" className=\"h-[6px] w-[10px]\">\n          <polygon points=\"0,0 5,6 10,0\"></polygon>\n        </svg>\n      </PopoverTrigger>\n      <PopoverContent className=\"px-8 py-4\">\n        <span className=\"text-sm font-semibold text-accent1\">Log in</span>\n        <LoginForm />\n      </PopoverContent>\n    </Popover>\n  );\n}\n\nimport { signOut } from \"./(login)/actions\";\n\nexport function SignOut(props: { username: string }) {\n  return (\n    <Popover>\n      <PopoverTrigger className=\"flex flex-row items-center gap-1\">\n        {props.username}{\" \"}\n        <svg viewBox=\"0 0 10 6\" className=\"h-[6px] w-[10px]\">\n          <polygon points=\"0,0 5,6 10,0\"></polygon>\n        </svg>\n      </PopoverTrigger>\n      <PopoverContent className=\"flex w-32 flex-col items-center px-8 py-4\">\n        <form>\n          <Button\n            formAction={signOut}\n            variant={\"ghost\"}\n            className=\"rounded-[2px] border-[1px] border-accent1 bg-white px-4 py-2 text-xs font-semibold text-accent1\"\n          >\n            {\"Sign Out\"}\n          </Button>\n        </form>\n      </PopoverContent>\n    </Popover>\n  );\n}\n"],"names":["c","_c","Input","Popover","PopoverContent","PopoverTrigger","ActionState","signIn","signUp","useActionState","Button","LoginForm","$","$i","Symbol","for","t0","error","signInState","signInFormAction","signInPending","t1","signUpState","signUpFormAction","signUpPending","pending","state","t2","t3","t4","t5","t6","SignInSignUp","signOut","SignOut","props","username"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1208, "column": 0}, "map": {"version":3,"sources":["file:///home/ayan/Programming/NextFasterPostgres/src/app/welcome-toast.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from \"react\";\nimport { toast } from \"sonner\";\n\nexport function WelcomeToast() {\n  useEffect(() => {\n    // ignore if screen height is too small\n    if (window.innerHeight < 850) return;\n    if (!document.cookie.includes(\"welcome-toast=3\")) {\n      toast(\" Welcome to NextFaster!\", {\n        id: \"welcome-toast\",\n        duration: Infinity,\n        onDismiss: () => {\n          document.cookie += \"welcome-toast=3;max-age=31536000\";\n        },\n        description: (\n          <>\n            This is a highly performant e-commerce template using Next.js. All\n            of the 1M products on this site are AI generated.\n            <hr className=\"my-2\" />\n            This demo is to highlight the speed a full-stack Next.js site can\n            achieve.{\" \"}\n            <a\n              href=\"https://github.com/ethanniser/NextFaster\"\n              className=\"font-semibold text-accent1 hover:underline\"\n              target=\"_blank\"\n            >\n              Get the Source\n            </a>\n            .\n          </>\n        ),\n      });\n    }\n  }, []);\n\n  return null;\n}\n"],"names":["c","_c","useEffect","toast","WelcomeToast","$","$i","Symbol","for","t0","_temp2","window","innerHeight","document","cookie","includes","id","duration","Infinity","onDismiss","_temp","description"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AAEb,SAASC,SAAS,QAAQ,OAAO;AACjC,SAASC,KAAK,QAAQ,QAAQ;;;AAH9B,YAAY;;;;AAKL;;IAAA,MAAAE,CAAA,OAAAJ,gLAAA,EAAA;IAAA,IAAAI,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAAA,IAAAI,EAAA;IAAA,IAAAJ,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QA8BFC,EAAA,GAAA,EAAA;QAAEJ,CAAA,CAAA,EAAA,GAAAI,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAJ,CAAA,CAAA,EAAA;IAAA;QA7BLH,0KAAA,EAAAQ,MAAA,EA6BGD,EAAE,CAAC;IAAA,OAAA;AAAA;;KA9BDL,aAAA;AAAA,SAAAM,OAAA;IAAA,IAGCC,MAAA,CAAAC,WAAA,GAAA,GAAwB,EAAA;QAAA;IAAA;IAAA,IAAA,CACvBC,QAAA,CAAAC,MAAA,CAAAC,QAAA,CAAyB,iBAAiB,CAAC,EAAA;YAC9CZ,oJAAA,EAAM,qCAA2B,EAAA;YAAAa,EAAA,EAC3B,eAAe;YAAAC,QAAA,EAAAC,QAAA;YAAAC,SAAA,EAAAC,KAAA;YAAAC,WAAA,gBAAA;;oBAMf;kCAGA,6LAAA,EAAuB;wBAAT,SAAM,EAAN,MAAM;;;;;;oBAAG,0EAEd;oBAAA,GAAE;kCACX,6LAAA,CAMI;wBALG,IAA0C,EAA1C,0CAA0C;wBACrC,SAA4C,EAA5C,4CAA4C;wBAC/C,MAAQ,EAAR,QAAQ;kCAChB,cAED,EANA,CAMI;;;;;;oBAAA,CAEN;;;QAAA,CAEH,CAAC;IAAA;AAAA;AA5BD,SAAAD,MAAA;IAAAP,QAAA,CAAAC,MAAA,GASGD,QAAA,CAAAC,MAAA,GAAmB,kCAAJ;AAAA","ignoreList":[]}}]
}